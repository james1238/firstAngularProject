<agm-map [(latitude)]="location.lat" [(longitude)]="location.lng" [(zoom)]="location.zoom" [disableDefaultUI]="true" [zoomControl]="true" [(fitBounds)]='location.viewport'>
  <agm-marker [(latitude)]="location.lat" [(longitude)]="location.lng" title="location.label"></agm-marker>
  <agm-marker *ngFor="let data of events$ | paginate: { itemsPerPage: 10, currentPage: p }; let i = index" [latitude]="convertStringToNumber(data.latitude)" [longitude]="convertStringToNumber(data.longitude)" >
    <agm-info-window>
      <b>{{data.name}}</b>
      <br/>
      <a href="{{data.url}}">Web Link</a>
    </agm-info-window>
  </agm-marker>
</agm-map>

<pagination-controls (pageChange)="p = $event"></pagination-controls>

<div *ngFor="let data of events$ | paginate: { itemsPerPage: 10, currentPage: p }">
  {{ data.name }}
</div>


<div class="container-fluid">
  <div class='row'>
    <div class="form-group">
      <label class='col-sm-2'>Address Line 1</label>
      <input class='col-sm-10' type='text' [(ngModel)]='location.address_level_1' class="form-control" placeholder='Office, Apt, Home, Street'>
    </div>
    <div class="form-group">
      <label class='col-sm-2'>Address Line 2</label>
      <input class='col-sm-10'  [(ngModel)]='location.address_level_2' class='form-control' placeholder='City'/>
    </div>

    <div class="form-group">
      <label class='col-sm-2'>State / Province / Region</label>
      <input class='col-sm-10'  [(ngModel)]='location.address_state' class='form-control' placeholder='State'>
    </div>

    <div class="form-group">
      <label class='col-sm-2'>Country</label>
      <input class='col-sm-10'  [(ngModel)]='location.address_country' class='form-control' placeholder='State'>
    </div>

    <div class="form-group">
      <label class='col-sm-2'>Postal / Zip code</label>
      <input class='col-sm-10'  [(ngModel)]='location.address_zip' class='form-control' placeholder='Zip'>
    </div>

    <button (click)='updateOnMap()' type="submit" class="btn btn-primary">Search</button>
  </div>
</div>